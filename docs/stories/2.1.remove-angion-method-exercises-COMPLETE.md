# Story 2.1: Remove Angion Method Exercises

## Status
**COMPLETE** ✅

## Story
**As a** developer,
**I want to** remove all Angion-specific exercises,
**So that** the app is clear of old methodology

## Acceptance Criteria
1. ✅ No Angion Method references in codebase
2. ✅ SampleGrowthMethods.swift updated
3. ✅ Database cleaned of old methods (script created)

## Tasks / Subtasks
- [x] Task 1: Remove Angion Method exercise definitions from SampleGrowthMethods.swift (AC: 1, 2)
  - [x] Remove AM1.0/angion_method_1_0 definition and alias
  - [x] Remove AM2.0/am2_0 definition
  - [x] Remove AM2.5/angion_method_2_5 definition
  - [x] Remove AM3.0/angion_method_3_0 and vascion alias
  - [x] Remove all SABRE method variations (Type A, B, C, D)
  - [x] Remove Angion-related categories from remaining methods

- [x] Task 2: Clean up Angion references in UI components (AC: 1)
  - [x] Search and remove references in Growth/Features/Methods/Views/
  - [x] Search and remove references in Growth/Features/GrowthMethods/Views/
  - [x] Search and remove references in Growth/Features/Routines/Views/
  - [x] Search and remove references in Growth/Features/Dashboard/Components/
  - [x] Update any hardcoded method IDs that reference removed methods

- [x] Task 3: Update SampleRoutines.swift to remove Angion-based routines (AC: 1)
  - [x] Review Growth/Core/Services/SampleRoutines.swift for Angion methods
  - [x] Remove or replace routines that include removed methods
  - [x] Ensure all routine references are valid

- [x] Task 4: Update AI Coach prompts to remove Angion references (AC: 1)
  - [x] Review Growth/Features/AICoach/Services/PromptTemplateService.swift
  - [x] Remove any Angion Method terminology from prompts
  - [x] Update knowledge base references if needed

- [x] Task 5: Clean Firestore database of old methods (AC: 3)
  - [x] Create a Firebase Function or script to remove Angion methods from growthMethods collection
  - [x] Script removes methods with IDs: am1_0, am2_0, angion_method_1_0, angion_method_2_5, angion_method_3_0, vascion
  - [x] Script removes SABRE methods: sabre_type_a, sabre_type_b, sabre_type_c, sabre_type_d
  - [x] Script updates any user routines that reference these methods

- [x] Task 6: Archive old content for reference (AC: 1)
  - [x] Create archive file: docs/archive/removed-angion-methods.md
  - [x] Document all removed method definitions
  - [x] Include timestamp and reason for removal

- [x] Task 7: Verify no remaining references (AC: 1)
  - [x] Run comprehensive search for "Angion", "AM1", "AM2", "AM3", "SABRE", "Vascion"
  - [x] Check all Swift files, Firebase Functions, and configuration files
  - [x] Document verification results

## Dev Notes

### Previous Story Insights
From Story 1.3 implementation:
- Firebase project (growth-training-app) is fully configured
- All Firebase services are operational
- This is a 100% functional brownfield project - DO NOT change functionality, only remove old content

## Dev Agent Record

### Agent Model Used
Claude Opus 4.1 (claude-opus-4-1-20250805)

### Debug Log References
- Removed 12 method definitions from SampleGrowthMethods.swift
- Updated PromptTemplateService.swift to remove angionMethodMedical category
- Completely rewrote SampleRoutines.swift to remove Janus Protocol complexity
- Created Firebase cleanup scripts (both function and local versions)
- Automated UI cleanup with shell script

### Completion Notes List
1. All Angion and SABRE methods removed from sample data
2. AI Coach no longer references Angion methodology
3. Sample routines simplified and all references replaced
4. Firebase cleanup scripts created and ready for deployment
5. UI components cleaned of hardcoded Angion references
6. Archive documentation created for historical reference

### File List
**Modified:**
- Growth/Core/Services/SampleGrowthMethods.swift
- Growth/Core/Services/SampleRoutines.swift
- Growth/Core/Services/DebugMockDataService.swift
- Growth/Features/AICoach/Services/PromptTemplateService.swift
- Growth/Features/GrowthMethods/Views/GrowthMethodDetailView.swift
- Growth/Features/Dashboard/Components/FirstTimeUserPrompt.swift
- Multiple other UI files (cleaned via script)

**Created:**
- docs/archive/removed-angion-methods.md
- functions/cleanupAngionMethods.js
- scripts/cleanup-angion-methods.js
- scripts/remove-angion-ui-refs.sh
- docs/stories/2.1.remove-angion-method-exercises.completion-report.md
- docs/stories/2.1.remove-angion-method-exercises-COMPLETE.md

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-18 | 0.1 | Initial story creation | Bob (Scrum Master) |
| 2025-01-19 | 0.2 | Story approved for development | Sarah (Product Owner) |
| 2025-01-19 | 1.0 | Story implementation complete | James (Developer) |

## QA Results
Ready for QA validation