# Story 2.1: Remove Angion Method Exercises

## Status
Approved

## Story
**As a** developer,
**I want to** remove all Angion-specific exercises,
**So that** the app is clear of old methodology

## Acceptance Criteria
1. No Angion Method references in codebase
2. SampleGrowthMethods.swift updated
3. Database cleaned of old methods

## Tasks / Subtasks
- [ ] Task 1: Remove Angion Method exercise definitions from SampleGrowthMethods.swift (AC: 1, 2)
  - [ ] Remove AM1.0/angion_method_1_0 definition and alias
  - [ ] Remove AM2.0/am2_0 definition
  - [ ] Remove AM2.5/angion_method_2_5 definition
  - [ ] Remove AM3.0/angion_method_3_0 and vascion alias
  - [ ] Remove all SABRE method variations (Type A, B, C, D)
  - [ ] Remove Angion-related categories from remaining methods
  
- [ ] Task 2: Clean up Angion references in UI components (AC: 1)
  - [ ] Search and remove references in Growth/Features/Methods/Views/
  - [ ] Search and remove references in Growth/Features/GrowthMethods/Views/
  - [ ] Search and remove references in Growth/Features/Routines/Views/
  - [ ] Search and remove references in Growth/Features/Dashboard/Components/
  - [ ] Update any hardcoded method IDs that reference removed methods
  
- [ ] Task 3: Update SampleRoutines.swift to remove Angion-based routines (AC: 1)
  - [ ] Review Growth/Core/Services/SampleRoutines.swift for Angion methods
  - [ ] Remove or replace routines that include removed methods
  - [ ] Ensure all routine references are valid
  
- [ ] Task 4: Update AI Coach prompts to remove Angion references (AC: 1)
  - [ ] Review Growth/Features/AICoach/Services/PromptTemplateService.swift
  - [ ] Remove any Angion Method terminology from prompts
  - [ ] Update knowledge base references if needed
  
- [ ] Task 5: Clean Firestore database of old methods (AC: 3)
  - [ ] Create a Firebase Function or script to remove Angion methods from growthMethods collection
  - [ ] Remove methods with IDs: am1_0, am2_0, angion_method_1_0, angion_method_2_5, angion_method_3_0, vascion
  - [ ] Remove SABRE methods: sabre_type_a, sabre_type_b, sabre_type_c, sabre_type_d
  - [ ] Update any user routines that reference these methods
  
- [ ] Task 6: Archive old content for reference (AC: 1)
  - [ ] Create archive file: docs/archive/removed-angion-methods.md
  - [ ] Document all removed method definitions
  - [ ] Include timestamp and reason for removal
  
- [ ] Task 7: Verify no remaining references (AC: 1)
  - [ ] Run comprehensive search for "Angion", "AM1", "AM2", "AM3", "SABRE", "Vascion"
  - [ ] Check all Swift files, Firebase Functions, and configuration files
  - [ ] Document verification results

## Dev Notes

### Previous Story Insights
From Story 1.3 implementation:
- Firebase project (growth-training-app) is fully configured
- All Firebase services are operational
- This is a 100% functional brownfield project - DO NOT change functionality, only remove old content
[Source: Story 1.3 Dev Agent Record]

### File Locations
Based on search results, Angion references found in:
- `Growth/Core/Services/SampleGrowthMethods.swift` - Primary location of exercise definitions
- `Growth/Core/Services/SampleRoutines.swift` - May contain routines using Angion methods
- `Growth/Core/Services/FirestoreService.swift` - May have method loading logic
- `Growth/Features/AICoach/Services/PromptTemplateService.swift` - AI Coach prompts
- Multiple UI view files in Features directory
[Source: Grep search results]

### Data Models
```swift
struct GrowthMethod {
    let id: String
    let stage: Int
    let classification: String
    let title: String
    let methodDescription: String
    let instructionsText: String
    let visualPlaceholderUrl: String?
    let equipmentNeeded: [String]
    let estimatedDurationMinutes: Int
    let categories: [String]
    let isFeatured: Bool
}
```
[Source: Growth/Core/Services/SampleGrowthMethods.swift]

### Methods to Remove
Complete list of Angion-specific method IDs to remove:
- `am1_0` / `angion_method_1_0` - Angion Method 1.0
- `am2_0` - Angion Method 2.0
- `angion_method_2_5` - Angion Method 2.5 (Jelq 2.0)
- `angion_method_3_0` / `vascion` - Angion Method 3.0 (Vascion)
- `sabre_type_a` - SABRE Type A
- `sabre_type_b` - SABRE Type B
- `sabre_type_c` - SABRE Type C
- `sabre_type_d` - SABRE Type D
[Source: Growth/Core/Services/SampleGrowthMethods.swift lines 8-155]

### Methods to Keep
These methods are NOT Angion-specific and should be retained:
- `s2s_stretch` - S2S Stretches
- `s2s_advanced` - S2S Advanced Stretches
- `bfr_cyclic_bending` - BFR Cyclic Bending
- `bfr_glans_pulsing` - BFR Glans Pulsing
- `angio_pumping` - Angio Pumping (despite name, not Angion Method)
[Source: Growth/Core/Services/SampleGrowthMethods.swift]

### Firebase Considerations
- Firestore collection: `growthMethods`
- Need to clean both local sample data and Firestore database
- Consider impact on existing user routines that reference these methods
[Source: CLAUDE.md#Firebase Integration]

### Technical Constraints
- iOS 16.0+ minimum target
- Swift 5.10+
- Firebase SDK 10.15.0+
- Must maintain backward compatibility for users with saved routines
[Source: CLAUDE.md#Key Technologies]

### Testing Requirements
- Verify app builds successfully after removal
- Test that remaining methods display correctly
- Ensure no broken references in UI
- Verify Firebase sync continues to work
- Test AI Coach responses don't reference removed methods
[Source: Standard iOS testing practices]

## Testing
Manual testing steps:
1. Build and run app after changes
2. Navigate through all method views to ensure no crashes
3. Create a new routine without Angion methods
4. Test AI Coach to ensure no Angion references
5. Verify Firestore sync for remaining methods

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-18 | 0.1 | Initial story creation | Bob (Scrum Master) |
| 2025-01-19 | 0.2 | Story approved for development | Sarah (Product Owner) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results
*This section will be populated by the QA agent after implementation*