# Story 8.5: Effort-Based Affirmations & Encouraging Messages

## Goal

**User Story:** As a User, I want to receive occasional effort-based affirmations or encouraging messages, so I feel supported in my journey.

## Description

This story implements a positive reinforcement feature that displays encouraging messages to users at key moments in their app experience. The affirmations emphasize effort and consistency rather than specific outcomes, helping users maintain motivation throughout their growth journey.

## Requirements

1. Create a collection of positive affirmations/encouraging messages (10-15 minimum)
2. Implement a system to display a random message at appropriate trigger points:
   - On the Dashboard/Home screen (occasional)
   - After successfully logging a session (every time)
   - When a streak is maintained (daily)
   - When a badge is earned (every time)
3. Design a non-intrusive, visually appealing message component that fits the app's style
4. Messages should be short, supportive, and focus on effort/consistency

## Acceptance Criteria

- AC1: A pool of at least 10-15 affirmations/messages is available in the app
- AC2: Affirmations are displayed at appropriate trigger points (Dashboard, post-session-log, streak maintenance, badge earning)
- AC3: Messages are varied and supportive, focusing on effort rather than outcomes

## Technical Notes

### Data Structure

- Create a new `Affirmation` model with the following properties:
  - `id`: String - Unique identifier
  - `text`: String - The affirmation text
  - `category`: AffirmationCategory - Category enum to help with context-appropriate messages

```swift
enum AffirmationCategory: String, Codable {
    case general
    case sessionCompletion
    case streakMaintenance
    case badgeEarned
}

struct Affirmation: Identifiable, Codable {
    let id: String
    let text: String
    let category: AffirmationCategory
}
```

### Implementation Details

1. **Affirmation Service**
   - Create `AffirmationService` class to manage affirmations
   - Functions to get random affirmations by category
   - Initial pool of affirmations loaded from app bundle

2. **Affirmation Display Component**
   - Create a reusable `AffirmationView` SwiftUI component
   - Animated appearance/disappearance
   - Customizable styling based on context

3. **Integration Points**
   - Dashboard: `MainView.swift` - Show occasional affirmations
   - Session Logging: `LogSessionViewModel.swift` - Show affirmation after successful log
   - Badge Earned: Integrate with `NotificationSchedulerService.scheduleAchievementNotification`
   - Streak Maintenance: Add to `StreakTracker.checkStreakMilestones`

## Related Components

- **Growth/Core/Models/**: Where we'll add the Affirmation model
- **Growth/Core/Services/**: Where we'll add AffirmationService
- **Growth/Features/Dashboard/**: Where we'll integrate affirmations on MainView
- **Growth/Features/SessionLogging/**: Where we'll show affirmations after logging
- **Growth/Features/Notifications/**: Where we'll integrate with badge/streak notifications

## Dependencies

- Badge system (Story 8.3)
- Session logging (Story 4.1)
- Streak tracking (Story 8.1)

## Sample Affirmations

### General
1. "Your commitment to growth is inspiring."
2. "Small steps lead to big changes."
3. "Every moment of practice is a victory."

### Session Completion
1. "Great job completing your session today!"
2. "Your dedication is building a stronger you."
3. "You showed up for yourself today – that's what counts."

### Streak Maintenance
1. "Your consistency is impressive! Keep the momentum going."
2. "Another day of dedication – your streak continues!"
3. "Your daily practice is creating lasting change."

### Badge Earned
1. "Congratulations on your achievement! You earned it through consistent effort."
2. "This badge represents your dedication to growth."
3. "Your hard work has been recognized with this achievement!"

## Implementation Steps

1. Create `Affirmation` model and `AffirmationCategory` enum
2. Implement `AffirmationService` with methods to retrieve appropriate affirmations
3. Design and implement the `AffirmationView` component
4. Integrate affirmation display at key points in the app
5. Test all trigger points to ensure appropriate affirmations display

## Testing Notes

- Test all trigger points (Dashboard, session logging, streak maintenance, badge earning)
- Verify appropriate category-specific messages are shown in each context
- Confirm animations and visual presentation are smooth and non-intrusive
- Ensure system gracefully handles edge cases (empty affirmation pool, etc.) 