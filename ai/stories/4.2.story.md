# Story 4.2: Session History List View

**Status:** Draft

## Goal & Context

**User Story:** As a User, I want to view a chronological list of my past logged sessions, so I can review my training history.

**Context:**
This story introduces a "Session History" screen, allowing users to see all their logged sessions in a clear, scrollable list. Each entry shows key details and can be tapped for more information. This is foundational for progress tracking and user engagement.

## Detailed Requirements

- Design and implement a "Session History" screen (likely part of the "Progress" tab).
- Fetch and display all logged sessions for the authenticated user from Firestore, ordered by date (most recent first).
- For each log entry, display key information:
  - Date of session.
  - Method Name.
  - Duration.
  - Snippet of notes (if any).
- Allow tapping on a log entry to view full details (see Story 4.3).
- Implement pagination or infinite scrolling if the list can become very long.
- If no sessions are logged, display a clear "No sessions logged yet" message.
- UI must follow `docs/style-guide.md`, `docs/ui-ux-spec.md`, and Figma.

## Acceptance Criteria (ACs)

- AC1: User can view a list of their logged sessions, sorted chronologically.
- AC2: Each list item displays date, method name, duration, and a notes snippet.
- AC3: Tapping a list item navigates to the Session Detail view.
- AC4: If no sessions are logged, a clear message is displayed.

## Technical Implementation Context

**Guidance:**
- **Relevant Files:**
  - New: `Growth/Features/SessionLogging/Views/SessionHistoryView.swift`
  - Reference: `Growth/Core/Models/SessionLog.swift`, `Growth/Core/Models/GrowthMethod.swift`
  - Update: `Growth/Core/Services/FirestoreService.swift`
  - Reference: `docs/style-guide.md`, `docs/ui-ux-spec.md`, Figma
- **Key Technologies:**
  - SwiftUI (for UI)
  - Firestore (for data storage)
  - Firebase Auth (for user ID)
- **UI/UX Notes:**
  - Use modern, accessible list design per style guide
  - Show loading/empty states
  - Support pull-to-refresh if possible
- **Data Structure:**
  - SessionLog model, joined with GrowthMethod for method name
- **Security:**
  - Only authenticated users can view their own logs

## Tasks / Subtasks

- [ ] Create `SessionHistoryView` SwiftUI view
- [ ] Fetch session logs for current user from Firestore
- [ ] Display logs in a scrollable, styled list
- [ ] Show loading and empty states
- [ ] Support tap to navigate to Session Detail
- [ ] Add/Update unit tests for data fetching and display logic

## Testing Requirements

- **Unit/Integration Tests:**
  - Test that logs are fetched and displayed correctly
  - Test empty state handling
  - Test navigation to detail view
- **Manual/CLI Verification:**
  - Verify UI matches Figma and style guide
  - Verify correct data is shown for the user

## Story Wrap Up (Agent Populates After Execution)

- **Agent Model Used:** <Agent Model Name/Version>
- **Completion Notes:**
- **Change Log:**
  - Initial Draft 